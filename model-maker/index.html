<!DOCTYPE html>
<html lang="en">
<head>
    <title>
        DeepFusion
    </title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"> 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"> 

    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
</head>

<body id='base-canvas' style="display:flex; align-items: center; justify-content: center; height:100vh; flex-direction: column">

    <!-- bottom menu -->
    <div class='menu-container' style='
        width:calc(100vw - clamp(1rem, 15vw, 17rem) * 2); padding-bottom: 5.5vh; height:auto; bottom:0; right:clamp(1rem, 15vw, 17rem);
        display:flex; align-items: center; justify-content: center; flex-direction: column;'>
            <section style='margin-top:2vh'>
                <h4 style='margin-left:2vw; margin-right:1vw'>Add Nodes:</h4>
            </section>

            <section style='margin-top:0.5vh; display:flex; flex-direction: row'>
                <button class='absolute-btn node-selection' id='input_node_add'>
                    <p>
                        Input
                    </p>
                </button>
                <button class='absolute-btn node-selection' id='output_node_add'>
                    <p>
                        Output
                    </p>
                </button>

                <!-- separator -->
                <div class="vr"></div>

                <button class='absolute-btn node-selection' id='dense_node_add'>
                    <p>
                        Dense
                    </p>
                </button>
                <button class='absolute-btn node-selection' id='act_node_add'>
                    <p>
                        Activation
                    </p>
                </button>
                <button class='absolute-btn node-selection' id='drop_node_add'>
                    <p>
                        Dropout
                    </p>
                </button>
            </section>
    </div>

    <!-- right top menu -->
    <div class='menu-container' style='width:clamp(1rem, 15vw, 17rem); height:calc(100vh - 35vh); top:0; right:0;
        display:flex; align-items: center; justify-content: center;' id='node-editor'>
        <div class='node-menu-container' id='default-node-menu'>
            <p>
                Click on a node to edit it
            </p>
        </div>

        <button style='position:absolute; bottom:1vh' id='del-selected' class='del-btn absolute-btn'
                onClick = "delete_selected_node(); " disabled>
            <p>
                Delete selected node
            </p>
        </button>
    </div>

    <!-- right bottom menu -->
    <div class='menu-container' style='width:clamp(1rem, 15vw, 17rem); height:35vh; bottom:0; right:0;
        display:flex; align-items: center; justify-content: flex-start; flex-direction: column;
        padding-top: 2vh; padding-bottom: 2vh'>
        <h4>
            Training Controls
        </h4>
        
        <hr style='width:80%; margin: 1vh 0 1vh 0'>

        <button class='absolute-btn' id='check-net'>
            <p>
                Check Network
            </p>
        </button>

        <hr style='width:30%; margin: 1vh 0 1vh 0'>

        <button class='absolute-btn' id='train-net'>
            <p>
                Train Network
            </p>
        </button>

        <button class='absolute-btn' id='test-net'>
            <p>
                Test Network
            </p>
        </button>

        <hr style='width:30%; margin: 1vh 0 1vh 0'>

        <button class='absolute-btn' id='export-net'>
            <p>
                Export Network
            </p>
        </button>
    </div>

    <!-- left top menu -->
    <div class='
        menu-container' style='width:clamp(1rem, 15vw, 17rem); height:calc(100vh - clamp(1rem, 7vh, 4rem) - 45vh); top:clamp(1rem, 7vh, 4rem); left:0;
        display:flex; align-items: center; justify-content: center; padding:0vh 0.5vw 0vh 0.5vw; flex-direction: column;'>

        <div class='terminal' id='dfterm'>
            <span style='margin:0.5vh 0 0 0'>Welcome to DeepFusion <span style='color:greenyellow'>0.3.0</span>.</span>
            <span>If you want to you can support this project on 
                <a style='color:rgb(0, 153, 255); font-weight: 600;' href='https://github.com/LemonOrangeWasTaken/DeepFusion'>GitHub</a>
                , or subscribe to my 
                <a style='color:rgb(255, 68, 68); font-weight: 600;' href='https://www.youtube.com/channel/UCut2xeBl7HcPEPatqpEUoQw'>YouTube</a>.
                Yes you can scroll on this makeshift terminal.
            </span>
            <span style='margin:0'>---</span>
            <span class='info'>Type "help", "about", or "license" for more information</span>
        </div>
        
        <!-- terminal input section -->
        
        <section style='display:flex; width:100%; height:auto;'>
            <input type="text" class='terminal-in' id='term-input'
                style="padding:0.7vh 0 0.7vh 0.5vw; font-family: 'Courier New', 'Courier', 'monospace';" placeholder=">>>">
            </input>
        </section>

    </div>
    <!-- left bottom menu -->
    <div class='
        menu-container' style='width:clamp(1rem, 15vw, 17rem); height:calc(100vh - clamp(1rem, 7vh, 4rem) - calc(100vh - clamp(1rem, 7vh, 4rem) - 45vh)); bottom:0; left:0;
        display:flex; align-items: center; justify-content: flex-start; padding-top:2vh; flex-direction: column;'>
        <h4>
            Training Parameters
        </h4>

        <hr style='width:80%; margin: 1vh 0 1vh 0'>

        <section class='input-parent-container'>
            <p class='unselectable section-text'>Validation Part (%):</p>
            <section class='slider-container'>
                <input type="range" min="0" max="10" value="5" class="slider" id="val-part-slider">
                <input type="number" class="number-box" id="val-part"> </input>
            </section>
        </section>

        <section class='input-parent-container'>
            <p class='unselectable section-text'>Testing Part (%):</p>
            <section class='slider-container'>
                <input type="range" min="0" max="5" value="2" class="slider" id="test-part-slider">
                <input type="number" class="number-box" id="test-part"> </input>
            </section>
        </section>

        <hr style='width:30%; margin: 1vh 0 1vh 0'>

        <section class='input-parent-container'>
            <p class='unselectable section-text'>Batch Size:</p>
            <section class='slider-container'>
                <input type="range" min="1" max="100" value="25" class="slider" id="batch-part-slider">
                <input type="number" class="number-box" id="batch-part"> </input>
            </section>
        </section>

        <section class='input-parent-container'>
            <p class='unselectable section-text'>Epoch Size:</p>
            <section class='slider-container'>
                <input type="range" min="1" max="1500" value="150" class="slider" id="epoch-part-slider">
                <input type="number" class="number-box" id="epoch-part"> </input>
            </section>
        </section>        
    </div>

    <!-- help btn -->
    <!-- <button class='subtle-btn' style='position:absolute; top:1vh; right:calc(clamp(1rem, 15vw, 17rem)  1vh);'>
        <h3 class='unselectable' style='cursor:pointer'>
            ?
        </h3>
    </button> -->
    
    <!-- return -->
    <a href='../'>
        <div class='menu-container logo' style='width:clamp(1rem, 15vw, 17rem); height:clamp(1rem, 7vh, 4rem); top:0; left:0; display:flex; align-items: center; justify-content: center'>
            <h2 class='unselectable' style='font-size: clamp(0.1rem, min(3vh, 1.3vw), 4rem); letter-spacing:3px; cursor:pointer'>
                DeepFusion
            </h2>
        </div>
    </a>

    <!-- zoom control -->
    <section id="canvas-ctrl" style='position:absolute; top:1vh; display:flex; justify-content: center; align-items:center; flex-direction: column; z-index: 10;'>
        <section style='
            display:flex; flex-direction: row; justify-content: center; align-items: center; background: rgba(99, 99, 99, 0.316); padding: 1vh 1vw 1vh 1vw;
            border-radius: clamp(0.1rem, min(1.3vw, 1.3vh), 2.5rem);
            -webkit-backdrop-filter: blur(6px); backdrop-filter: blur(6px); 
            box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.248), -5px 5px 20px 0px rgba(0, 0, 0, 0.17); border: 1px solid rgba(187, 187, 187, 0.289);'>

            <button id='reset-canvas' class='subtle-btn'>
                <!-- <h3 class='unselectable  subtle-txt' style='cursor:pointer; margin-bottom:0.4vh; font-size: clamp(0.05rem, min(1.7vh, 1vw), 1rem);'>
                    <strong>&#9974</strong>
                </h3> -->
                <img style="width:35%; height:auto;" src="../re-center.svg" alt="Re-center">

            </button>
            
            <div class='vr' style='height: 4vh; position: relative; background-color: rgba(255, 255, 255, 0.412); z-index: 10; margin-left: 0.5vw; margin-right:0.5vw; width:1px'></div>

            <button id='zoom-in' class='subtle-btn'>
                <!-- <h3 class='unselectable  subtle-txt' style='cursor:pointer'>
                    +
                </h3> -->
                <img style="width:30%; height:auto;" src="../zoom-in.svg" alt="Re-center">
            </button>
            
            <button id='zoom-out' class='subtle-btn'>
                <!-- <h3 class='unselectable  subtle-txt' style='cursor:pointer'>
                    &#8722
                </h3> -->
                <img style="width:30%; height:auto;" src="../zoom-out.svg" alt="Re-center">
            </button>

            <button id='zoom-res' class='subtle-btn'>
                <!-- <h3 class='unselectable subtle-txt' style='cursor:pointer; margin-left:0.05vw'>
                    ↺
                </h3> -->
                <img style="width:40%; height:auto;" src="../zoom-reset.svg" alt="Re-center">
            </button>
        </section>
        <p id='zoom-scale' class='unselectable' style='color:white; opacity:1; margin-top:0.5vh; font-family: Montserrat'>
            100%
        </p>
    </section>

    <!-- position debug -->
    <section style='position: absolute; top: 0; right:clamp(1rem, 15vw, 17rem); margin-top:1vh; margin-right:1vh;
            display:flex; flex-direction: row; align-items:center'>
        <!-- location thing -->
        <p id='position_debug' class='unselectable' style='color:white; opacity:1; font-family: Montserrat; margin-left:0vw;'>
            0,0
        </p>
    </section>

    <!-- network name -->
    <section style='position: absolute; top: 0; left:clamp(1rem, 15vw, 17rem); margin-top:2vh; margin-left:2vh;
    display:flex; flex-direction: row; align-items:center'>
        <input id="networkname" maxlength="50" type="text" placeholder="Untitled.h5">
        </input>
    </section>
    

    <!-- canvas area -->
    <section id='canvas-drag' style='position:absolute; display:flex; justify-content: center; align-items:center;
    width:calc(100vw - clamp(1rem, 15vw, 17rem) * 2); left:clamp(1rem, 15vw, 17rem);
    height:calc(100vh - clamp(1rem, 10vh, 6rem)); top:0;'>
        <section id='main-canvas' style='position:absolute; display:flex; justify-content: center; align-items:center;
                width:calc(100vw - clamp(1rem, 15vw, 17rem) * 2);
                height:calc(100vh - clamp(1rem, 10vh, 6rem)); 
                transition: transform 240ms cubic-bezier(0.260, 0.050, 0.250, 1.000);'>
            
            <div class='crosshair' style='pointer-events: none; transition: all 500ms cubic-bezier(0.355, 0.010, 0.200, 1.010);'>
                <svg
                width="auto"
                height="auto"
                style='opacity: 0.2; height: clamp(0.2rem, min(15vw, 15vh), 15rem); margin-right: 2vw; padding-top: 2vh'
                viewBox="0 0 135.46666 135.46667"
                version="1.1"
                id="svg5"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:svg="http://www.w3.org/2000/svg">
                    <defs
                        id="defs2" />
                    <g
                        id="layer1">
                        <path
                        id="rect2498"
                        style="fill:none;stroke:#ffffff;stroke-width:6.52224367;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1;stroke-opacity:1"
                        d="m 52.12033,3.2610981 c -10.827205,0 -19.543691,8.7164869 -19.543691,19.5436919 0,10.827205 8.716486,19.543691 19.543691,19.543691 H 23.472797 c -0.393816,-0.01334 -0.788094,-0.02031 -1.183332,-0.0096 -0.16546,0.0044 -0.330587,0.02918 -0.496213,0.03823 -0.140087,0.0075 -0.279913,0.02086 -0.419896,0.02862 -0.169208,0.01212 -0.337813,0.02179 -0.505742,0.03823 -0.251527,0.02585 -0.502761,0.05964 -0.753897,0.09547 -0.285289,0.03897 -0.568185,0.08254 -0.84932,0.133697 -0.02835,0.0051 -0.05759,0.0042 -0.08589,0.0096 -0.03811,0.0073 -0.07647,0.01158 -0.114474,0.01902 -7.746924,1.489377 -13.8405977,7.52305 -15.4116662,15.239876 -0.091952,0.45145 -0.1495583,0.911709 -0.209948,1.374165 -0.00894,0.06684 -0.017541,0.133881 -0.028631,0.200361 -0.027801,0.231163 -0.056628,0.463047 -0.076367,0.69663 -0.00347,0.04118 -0.0062,0.08273 -0.00953,0.124094 -0.024677,0.31584 -0.038113,0.633912 -0.047689,0.954088 -0.0062,0.200664 -0.019104,0.400157 -0.019104,0.601212 0,0.47819 0.023843,0.95252 0.057263,1.421901 0.010846,0.146994 0.014414,0.291937 0.028631,0.438949 -0.00787,-0.08467 -0.00273,-0.172666 -0.00957,-0.257681 0.2564621,3.186012 1.2609591,6.15641 2.8533302,8.722154 2.2330133,3.696055 29.000641,50.223863 29.000641,50.223863 5.413601,9.37663 17.324162,12.56117 26.700786,7.14758 9.376624,-5.41361 12.570698,-17.31464 7.157095,-26.69126 L 56.662725,81.435865 h 24.773143 c 10.827204,0 19.543692,-8.716487 19.543692,-19.543692 0,-10.827205 -8.716488,-19.543692 -19.543692,-19.543692 H 110.7514 c 10.82721,0 19.54369,-8.716486 19.54369,-19.543691 0,-10.827205 -8.71648,-19.5436919 -19.54369,-19.5436919 z" />
                    </g>
                </svg>
            </div>
            
            <!-- for canvas tracking -->
            <div class='crosshair'></div>
        </section>
    </section>

    <!-- copyright information -->
    <p class='copyrightmsg unselectable' style='position: absolute; bottom:0.5%; color:rgba(255, 255, 255, 0.178); z-index:100'>
        <a href="../license-info/" style='color:inherit;'>
            Copyright &copy; 2021 LemonOrange
        </a> | To learn more, visit this project's
        <a style='text-decoration:none; color:rgba(255, 255, 255, 0.363); font-weight: 600;' href='https://github.com/LemonOrangeWasTaken/DeepFusion'>GitHub</a>
    </p>

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
    <script src="../anime.min.js"></script>
    <script src="../json2html.min.js"></script>
    <script src="style.js"></script>
    <script src="templates.js"></script>
    <script src="events.js"></script>
    <script src="modeling.js"></script>
    <script src="terminal-handler.js"></script>
    <script src="edge-render.js"></script>
</body>
</html>